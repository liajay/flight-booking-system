spring:
  datasource:
    url: jdbc:mysql://localhost:3306/flight_booking_test
    username: root
    password: root123
  jpa:
    hibernate:
      ddl-auto: create-drop  # 测试时自动创建表，测试结束后删除
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
    defer-datasource-initialization: false

    # 禁用数据初始化脚本，使用Hibernate的DDL管理
    sql:
      init:
        mode: never

    # 日志配置
    logging:
      level:
        com.liajay.flightbooking: DEBUG
        org.springframework.web: DEBUG
        org.hibernate.SQL: DEBUG
        org.hibernate.type.descriptor.sql.BasicBinder: TRACE

    # 测试配置
    test:
      transaction:
        default-rollback: true
