# 航班订票系统 - 前端展示航班信息

## 功能介绍

本次修改为前端添加了完整的航班信息展示功能，包括：

### 🚀 新增功能

1. **航班列表展示**
   - 分页展示所有航班信息
   - 支持按多种条件筛选和排序
   - 响应式设计，适配移动设备

2. **搜索和筛选功能**
   - 按出发城市和到达城市搜索
   - 按航空公司筛选
   - 按航班状态筛选
   - 支持多种排序方式

3. **航班信息展示**
   - 航班号、航空公司
   - 出发和到达城市、时间
   - 航班状态（已安排、延误、取消等）
   - 基础价格
   - 座位信息（如果可用）
   - 飞行时长计算

4. **用户交互**
   - 美观的卡片式布局
   - 加载状态提示
   - 错误处理和重试机制
   - 分页导航

## 📁 新增文件

### API 文件
- `frontend/src/api/flight.js` - 航班相关API接口

### 组件文件
- `frontend/src/views/FlightListView.vue` - 航班列表组件

### 修改文件
- `frontend/src/views/DashboardView.vue` - 添加航班列表功能
- `frontend/src/main.js` - 添加航班列表路由
- `frontend/vite.config.js` - 更新代理配置

## 🔧 技术实现

### API 集成
- 与库存服务的REST API完全集成
- 支持网关路由转发 (`/api/inventory/flights/*`)
- 完整的错误处理和重试机制
- 适配后端返回的分页数据结构

### 数据结构适配
系统已适配后端API返回的数据结构：

```json
{
  "success": true,
  "data": {
    "flights": {
      "content": [...], // 航班列表
      "totalElements": 5,
      "totalPages": 1,
      "number": 0
    },
    "totalElements": 5,
    "totalPages": 1,
    "hasNext": false,
    "hasPrevious": false
  }
}
```

### 日期时间处理
- 适配后端返回的时间格式 "2025-08-21 16:00:00"
- 自动计算飞行时长
- 本地化时间显示

### 响应式设计
- 移动端优先的响应式布局
- 卡片式设计，美观易用
- CSS Grid 和 Flexbox 布局
- 通过网关进行路由转发
- 完整的错误处理和状态管理

### 数据展示
- 实时从后端获取航班数据
- 支持多种查询方式：
  - 普通分页查询
  - 按路线查询
  - 按航空公司查询
  - 获取有效航班

### UI/UX 设计
- 现代化的卡片布局
- 渐变色彩方案
- 状态指示器
- 加载动画
- 响应式设计

## 🌐 网络架构

```
前端 (localhost:3000) 
  ↓ /api/inventory/** 
网关 (localhost:8080) 
  ↓ 转发到 localhost:8083
库存服务 (localhost:8083)
  ↓ /api/flights/**
航班控制器
```

## 🚦 运行步骤

### 1. 启动后端服务

确保以下服务正在运行：
- 网关服务 (端口 8080)
- 库存服务 (端口 8083)
- 数据库服务

### 2. 启动前端

```bash
cd frontend
npm install
npm run dev
```

### 3. 访问应用

打开浏览器访问 `http://localhost:3000`

### 4. 使用功能

1. 登录系统
2. 在主页点击"查看航班"按钮
3. 使用搜索和筛选功能
4. 浏览航班信息

## 🎨 界面预览

### 主要功能界面

1. **搜索区域**
   - 出发城市、到达城市输入框
   - 航空公司筛选
   - 状态和排序选项

2. **航班卡片**
   - 航班基本信息
   - 路线图示
   - 价格和座位信息
   - 状态标签

3. **分页控件**
   - 上一页/下一页按钮
   - 页码快速跳转

## 🔍 API 端点

项目使用以下API端点：

- `GET /api/inventory/api/flights` - 分页查询航班
- `GET /api/inventory/api/flights/{flightNumber}` - 根据航班号查询
- `GET /api/inventory/api/flights/route` - 根据路线查询
- `GET /api/inventory/api/flights/airline/{airline}` - 根据航空公司查询
- `GET /api/inventory/api/flights/active` - 获取有效航班

## 📱 响应式设计

- 桌面端：多列卡片布局
- 平板端：自适应列数
- 移动端：单列布局，优化触摸体验

## 🔧 可扩展功能

未来可以继续添加：
- 航班预订功能
- 座位选择界面
- 价格比较
- 收藏航班
- 通知提醒

## 🐛 故障排除

### 常见问题

1. **航班数据无法加载**
   - 检查后端服务是否启动
   - 确认网关和库存服务连接正常
   - 查看浏览器控制台的错误信息

2. **搜索功能异常**
   - 检查输入参数格式
   - 确认API路径配置正确

3. **页面样式问题**
   - 清除浏览器缓存
   - 检查CSS是否正确加载

## 📄 许可证

本项目为学习和演示目的，仅供参考使用。
